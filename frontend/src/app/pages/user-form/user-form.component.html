<section>
    <h3>{{tipo}} Usuario</h3>
    <hr>
    <form class="card shadow p-4" [formGroup]="userForm" (ngSubmit)="getDataForm()">
        <div class="mt-3">
            <label for="email" class="form-label">Email</label>
            <input type="text" id="email" class="form-control" formControlName="email">
        </div>

        <div class="mt-3">
            <label for="nombre" class="form-label">Nombre</label>
            <input type="text" id="nombre" class="form-control" formControlName="nombre">
        </div>

        <div class="mt-3">
            <label for="apellidos" class="form-label">apellidos</label>
            <input type="text" id="apellidos" class="form-control" formControlName="apellidos">
        </div>

        <div class="mt-3">
            <label for="rol" class="form-label">Rol</label>
            <select id="rol" class="form-select" formControlName="rol" [(ngModel)] = "rolControl">
                <option value="" selected disabled>Selecciona un rol</option>
                <option value="admin">Administrador</option>
                <option value="user">Cliente</option>
                <option value="company">Empresa</option>
            </select>
        </div>

        @if(rolControl == 'company'){
            <hr>
            <h3>{{tipo}} Empresa</h3>
            <div class="mt-3">
                <label for="cifEmpresa" class="form-label">CIF</label>
                <input type="text" id="cifEmpresa" class="form-control" formControlName="cifEmpresa">
            </div>

            <div class="mt-3">
                <label for="nombreEmpresa" class="form-label">Nombre empresa</label>
                <input type="text" id="cifEmpresa" class="form-control" formControlName="nombreEmpresa">
            </div>

            <div class="mt-3">
                <label for="direccionEmpresa" class="form-label">Dirección empresa</label>
                <input type="text" id="cifEmpresa" class="form-control" formControlName="direccionEmpresa">
            </div>

            <div class="mt-3">
                <label for="paisEmpresa" class="form-label">País empresa</label>
                <input type="text" id="cifEmpresa" class="form-control" formControlName="paisEmpresa">
            </div>
        }

        <div class="d-flex gap-2 mt-4">
            @if(tipo == 'Nuevo'){
                <input type="submit" value="Guardar" class="btn btn-danger" [disabled]="!userForm.valid">
            }
            @else {
                <input type="submit" value="Actualizar" class="btn btn-danger" [disabled]="!userForm.valid">
            }
            
            <a [routerLink]="['/usersList']" class="btn btn-warning">Volver</a>
        </div>

    </form>
</section>
